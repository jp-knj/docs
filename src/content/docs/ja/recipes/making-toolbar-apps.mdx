---
title: ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‚¢ãƒ—ãƒªã®ä½œæˆ
description: Astro Dev Toolbarã«ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ—ãƒªã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚
type: recipe
i18nReady: false
---

import { Steps } from '@astrojs/starlight/components';

Astro Dev Toolbarã¯ã€é–‹ç™ºä¸­ã«å½¹ç«‹ã¤æƒ…å ±ã‚’æä¾›ã™ã‚‹ã‚¢ãƒ—ãƒªã®ã‚»ãƒƒãƒˆã§ã™ã€‚ç‹¬è‡ªã®ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ—ãƒªã‚’è¿½åŠ ã—ã¦ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é–¢ã™ã‚‹æƒ…å ±ã‚’æä¾›ã§ãã¾ã™ã€‚

ã“ã®ãƒ¬ã‚·ãƒ”ã§ã¯ã€ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‚¢ãƒ—ãƒªã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚

## ãƒ¬ã‚·ãƒ”

<Steps>
1.  `astro.config.mjs`ã§ã€`devToolbar`è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚

    ```js title="astro.config.mjs"
    import { defineConfig } from 'astro/config';

    export default defineConfig({
      devToolbar: {
        enabled: true,
      },
    });
    ```

2.  `src/toolbar/`ã«ã€ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‚¢ãƒ—ãƒªã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã¨ãªã‚‹Astroã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚¢ã‚¤ã‚³ãƒ³ã¨ã€ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã¨ãã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚

    ```astro title="src/toolbar/Metadata.astro"
    ---
    import type { DevToolbarApp } from 'astro';

    const app: DevToolbarApp = {
      id: 'my-app',
      name: 'My App',
      icon: 'ğŸš€',
      init(canvas, eventTarget) {
        const button = canvas.querySelector('button');
        button.addEventListener('click', () => {
          eventTarget.dispatchEvent(new CustomEvent('toggle-modal'));
        });
      },
    };
    ---
    <button>ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º</button>
    ```

3.  åŒã˜ãƒ•ã‚¡ã‚¤ãƒ«ã«ã€ãƒ¢ãƒ¼ãƒ€ãƒ«ã«è¡¨ç¤ºã•ã‚Œã‚‹UIã‚’å®šç¾©ã™ã‚‹2ç•ªç›®ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

    ```astro title="src/toolbar/Metadata.astro"
    ---
    // ...
    ---
    <button>ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤º</button>

    <style>
      /* ... */
    </style>

    export const Modal = () => {
      const [metadata, setMetadata] = useState(null);

      useEffect(() => {
        fetch('/api/metadata')
          .then(res => res.json())
          .then(setMetadata);
      }, []);

      return (
        <div>
          <h2>ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿</h2>
          {metadata ? <pre>{JSON.stringify(metadata, null, 2)}</pre> : <p>èª­ã¿è¾¼ã¿ä¸­...</p>}
        </div>
      );
    }
    ```

4.  `astro.config.mjs`ã§ã€ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‚¢ãƒ—ãƒªã‚’`devToolbar`è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«è¿½åŠ ã—ã¾ã™ã€‚

    ```js title="astro.config.mjs"
    import { defineConfig } from 'astro/config';

    export default defineConfig({
      devToolbar: {
        enabled: true,
        apps: ['src/toolbar/Metadata.astro'],
      },
    });
    ```
</Steps>
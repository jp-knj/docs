---
type: integration
title: '@astrojs/svelte'
description: Astroプロジェクトでコンポーネントサポートを拡張するための@astrojs/svelteフレームワークインテグレーションの使い方を学びます。
sidebar:
  label: Svelte
githubIntegrationURL: 'https://github.com/withastro/astro/tree/main/packages/integrations/svelte/'
category: renderer
i18nReady: true
---
import PackageManagerTabs from '~/components/tabs/PackageManagerTabs.astro';
import Since from '~/components/Since.astro';

この**[Astroインテグレーション][astro-integration]**により、[Svelte](https://svelte.dev/) 5コンポーネントのレンダリングとクライアントサイドハイドレーション (client-side hydration) が可能になります。Svelte 3および4のサポートには、代わりに`@astrojs/svelte@5`をインストールしてください。

## インストール

Astroには公式インテグレーションの設定を自動化する`astro add`コマンドが含まれています。お好みに応じて、代わりに[手動でインテグレーションをインストール](#manual-install)することもできます。

`@astrojs/svelte`をインストールするには、プロジェクトディレクトリから以下を実行し、プロンプトに従ってください：

<PackageManagerTabs>
  <Fragment slot="npm">
  ```sh
  npx astro add svelte
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```sh
  pnpm astro add svelte
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```sh
  yarn astro add svelte
  ```
  </Fragment>
</PackageManagerTabs>

何か問題が発生した場合は、[GitHubで報告](https://github.com/withastro/astro/issues)していただき、以下の手動インストール手順を試してください。

### 手動インストール

まず、`@astrojs/svelte`パッケージをインストールします：

<PackageManagerTabs>
  <Fragment slot="npm">
  ```sh
  npm install @astrojs/svelte
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```sh
  pnpm add @astrojs/svelte
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```sh
  yarn add @astrojs/svelte
  ```
  </Fragment>
</PackageManagerTabs>

ほとんどのパッケージマネージャーは関連するピア依存関係も一緒にインストールします。Astroを起動時に`Cannot find package 'svelte'`（または類似）の警告が表示される場合は、SvelteとTypeScriptをインストールする必要があります：

<PackageManagerTabs>
  <Fragment slot="npm">
  ```sh
  npm install svelte typescript
  ```
  </Fragment>
  <Fragment slot="pnpm">
  ```sh
  pnpm add svelte typescript
  ```
  </Fragment>
  <Fragment slot="yarn">
  ```sh
  yarn add svelte typescript
  ```
  </Fragment>
</PackageManagerTabs>

次に、`integrations`プロパティを使用して、`astro.config.*`ファイルにインテグレーションを適用します：

```js title="astro.config.mjs" ins={2} ins="svelte()"
import { defineConfig } from 'astro/config';
import svelte from '@astrojs/svelte';

export default defineConfig({
  // ...
  integrations: [svelte()],
});
```

そして、プロジェクトのルートディレクトリに`svelte.config.js`という新しいファイルを作成し、以下のコードを追加します：

```js title="svelte.config.js"
import { vitePreprocess } from '@astrojs/svelte';

export default {
  preprocess: vitePreprocess(),
}
```

## はじめに

AstroでSvelteコンポーネントを初めて使用するには、[UIフレームワークのドキュメント][astro-ui-frameworks]を参照してください。以下について説明しています：

* 📦 フレームワークコンポーネントの読み込み方法
* 💧 クライアントサイドハイドレーション (client-side hydration) のオプション
* 🤝 フレームワークを組み合わせてネストする機会

## オプション

このインテグレーションは`@sveltejs/vite-plugin-svelte`によって動作します。Svelteコンパイラをカスタマイズするには、インテグレーションにオプションを提供できます。詳細については、[`@sveltejs/vite-plugin-svelte`のドキュメント](https://github.com/sveltejs/vite-plugin-svelte/blob/HEAD/docs/config.md)を参照してください。

オプションは、`astro.config.mjs`の`svelte`インテグレーションに渡すか、`svelte.config.js`で設定できます。両方が存在する場合、`astro.config.mjs`のオプションが`svelte.config.js`のオプションよりも優先されます：

```js title="astro.config.mjs" "extensions: ['.svelte']"
import { defineConfig } from 'astro/config';
import svelte from '@astrojs/svelte';

export default defineConfig({
  integrations: [svelte({ extensions: ['.svelte'] })],
});
```

```js title="svelte.config.js"
export default {
  extensions: ['.svelte'],
};
```

## プリプロセッサ

<Since v="2.0.0" pkg="@astrojs/svelte" />

SvelteファイルでSCSSやStylusを使用している場合は、`svelte.config.js`ファイルを作成することで、Svelteによってプリプロセスされ、Svelte IDEエクステンションがSvelteファイルを正しく解析できるようになります。

```js title="svelte.config.js"
import { vitePreprocess } from '@astrojs/svelte';

export default {
  preprocess: vitePreprocess(),
};
```

この設定ファイルは、`astro add svelte`を実行すると自動的に追加されます。`vitePreprocess`の詳細については、[`@sveltejs/vite-plugin-svelte`のドキュメント](https://github.com/sveltejs/vite-plugin-svelte/blob/HEAD/docs/preprocess.md)を参照してください。

[astro-integration]: /ja/guides/integrations-guide/

[astro-ui-frameworks]: /ja/guides/framework-components/#using-framework-components